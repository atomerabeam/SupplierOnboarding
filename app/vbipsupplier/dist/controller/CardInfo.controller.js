sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","../model/models","sap/m/MessageToast"],function(e,t,n,o){"use strict";return e.extend("vbipsupplier.controller.CardInfo",{onInit:async function(){let e=this.getOwnerComponent().getModel("SupplierInfo").getProperty("/supplier");let o=new t;let r={cardInfo:false};o.setProperty("/pageFlow",r);this.getView().setModel(o,"PageModel");if(e!==undefined){let o={vbipRequestID:e.buyerID.concat(e.supplierID)};let r=await n.getCardInfo(o);if(r.response){let e=new t(Object.assign({btnIcon:"sap-icon://hide"},r.response));let n=new t(e.getData());this.getView().setModel(e,"CardInfo");this.getView().setModel(Object.assign(n),"CardInfoDisplay");this.getView().getModel("PageModel").setProperty("/pageFlow/cardInfo",true);this.onShowInfor()}else{let e=this.getOwnerComponent().getRouter();e.navTo("Card",{token:"NotFound"})}}else{let e=this.getOwnerComponent().getRouter();e.navTo("Card",{token:"NotFound"})}},onShowInfor:function(){let e=this.getView().getModel("CardInfoDisplay");let t=this.getView().getModel("CardInfo");let n=t.getProperty("/btnIcon");let o=t.getProperty("/cardNumber");let r=t.getProperty("/cvv2");let s=t.getProperty("/expiredate");if(n==="sap-icon://hide"){t.setData({cardNumber:this._translateString(o),cvv2:this._translateString(r),expiredate:this._translateString(s),btnIcon:"sap-icon://show"})}else{t.setData(e.getData())}},_translateString:function(e){let t=e.toString().length;e="";return e.toString().padEnd(t,"*")}})});